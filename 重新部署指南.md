# ğŸš€ Render + Cloudflare + GitHub é‡æ–°éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ä½ çš„éƒ¨ç½²æ¶æ„

- **GitHub ä»“åº“**: https://github.com/jet20002025-hash/daniugu
- **åº”ç”¨æ‰˜ç®¡**: Render
- **CDN åŠ é€Ÿ**: Cloudflare
- **åŸŸå**: daniugu.online

---

## âš¡ å¿«é€Ÿé‡æ–°éƒ¨ç½²ï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤ 1ï¼šæ¨é€æœ€æ–°ä»£ç åˆ° GitHub

```bash
cd /Users/zwj/è‚¡ç¥¨åˆ†æ

# æ£€æŸ¥å½“å‰çŠ¶æ€
git status

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤æ›´æ”¹
git commit -m "æ›´æ–°ä»£ç ï¼Œå‡†å¤‡é‡æ–°éƒ¨ç½²åˆ° Render"

# æ¨é€åˆ° GitHub
git push origin main
```

### æ­¥éª¤ 2ï¼šåœ¨ Render é‡æ–°éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰
- Render ä¼šè‡ªåŠ¨æ£€æµ‹ GitHub æ¨é€ï¼Œè‡ªåŠ¨é‡æ–°éƒ¨ç½²
- ç­‰å¾… 3-5 åˆ†é’Ÿï¼ŒæŸ¥çœ‹ Render Dashboard â†’ Deployments

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²
1. è®¿é—® https://dashboard.render.com
2. é€‰æ‹©ä½ çš„ Web æœåŠ¡ï¼ˆå¦‚ `daniugu`ï¼‰
3. ç‚¹å‡» **"Manual Deploy"** â†’ **"Deploy latest commit"**
4. ç­‰å¾…éƒ¨ç½²å®Œæˆ

### æ­¥éª¤ 3ï¼šéªŒè¯éƒ¨ç½²

1. **æ£€æŸ¥ Render æœåŠ¡çŠ¶æ€**
   - Render Dashboard â†’ ä½ çš„æœåŠ¡ â†’ ç¡®è®¤çŠ¶æ€ä¸º **"Live"**
   - æŸ¥çœ‹ **"Logs"** æ ‡ç­¾ï¼Œç¡®è®¤åº”ç”¨æ­£å¸¸å¯åŠ¨

2. **æµ‹è¯•è®¿é—®**
   - è®¿é—® `https://ä½ çš„æœåŠ¡å.onrender.com`
   - è®¿é—® `https://www.daniugu.online`
   - ç¡®è®¤å¯ä»¥æ­£å¸¸è®¿é—®

---

## âœ… éƒ¨ç½²é…ç½®æ£€æŸ¥æ¸…å•

### Render é…ç½®æ£€æŸ¥

#### 1. æœåŠ¡é…ç½®
- [ ] **Name**: `daniugu`ï¼ˆæˆ–ä½ çš„æœåŠ¡åï¼‰
- [ ] **Region**: `Singapore`ï¼ˆæˆ–ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸï¼‰
- [ ] **Branch**: `main`
- [ ] **Root Directory**: ç•™ç©º
- [ ] **Environment**: `Python 3`
- [ ] **Build Command**: `pip install -r requirements.txt`
- [ ] **Start Command**: ç•™ç©ºï¼ˆä½¿ç”¨ Procfileï¼‰

#### 2. ç¯å¢ƒå˜é‡ï¼ˆå¿…éœ€ï¼ï¼‰
åœ¨ Render Dashboard â†’ Environmentï¼Œç¡®è®¤å·²é…ç½®ï¼š

**å¿…éœ€çš„ç¯å¢ƒå˜é‡**ï¼š
- [ ] `UPSTASH_REDIS_REST_URL` = `https://your-redis.upstash.io`
- [ ] `UPSTASH_REDIS_REST_TOKEN` = `your-token-here`
- [ ] `RENDER=true`

**å¯é€‰çš„ç¯å¢ƒå˜é‡**ï¼š
- [ ] `INVITE_CODES` = `ADMIN2024,VIP2024`
- [ ] `VIP_ALIPAY_ACCOUNT` = `522168878@qq.com`
- [ ] `VIP_WECHAT_ACCOUNT` = ä½ çš„å¾®ä¿¡è´¦å·

#### 3. Procfile æ£€æŸ¥
ç¡®è®¤ `Procfile` å†…å®¹ä¸ºï¼š
```
web: python -m gunicorn bull_stock_web:app --bind 0.0.0.0:$PORT --workers 1 --timeout 120 --access-logfile - --error-logfile -
```

---

### Cloudflare é…ç½®æ£€æŸ¥

#### 1. DNS è®°å½•
åœ¨ Cloudflare Dashboard â†’ DNS â†’ Recordsï¼Œç¡®è®¤ï¼š

**www å­åŸŸå**ï¼š
- [ ] Type: `CNAME`
- [ ] Name: `www`
- [ ] Target: `ä½ çš„æœåŠ¡å.onrender.com`ï¼ˆå¦‚ `daniugu.onrender.com`ï¼‰
- [ ] Proxy status: ğŸŸ  **Proxied**ï¼ˆæ©™è‰²äº‘æœµï¼‰

**æ ¹åŸŸå**ï¼š
- [ ] Type: `CNAME` æˆ– `A`
- [ ] Name: `@`
- [ ] Target: `ä½ çš„æœåŠ¡å.onrender.com` æˆ– Render IP
- [ ] Proxy status: ğŸŸ  **Proxied**ï¼ˆæ©™è‰²äº‘æœµï¼‰

#### 2. SSL/TLS è®¾ç½®
åœ¨ Cloudflare Dashboard â†’ SSL/TLSï¼š
- [ ] SSL/TLS encryption mode: **"Full"**
- [ ] Always Use HTTPS: **"On"**

---

## ğŸ”§ å¦‚æœéƒ¨ç½²å¤±è´¥

### 1. æ£€æŸ¥ Render æ—¥å¿—

åœ¨ Render Dashboard â†’ Logsï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼š

**å¸¸è§é”™è¯¯**ï¼š
- ä¾èµ–å®‰è£…å¤±è´¥ â†’ æ£€æŸ¥ `requirements.txt`
- åº”ç”¨å¯åŠ¨å¤±è´¥ â†’ æ£€æŸ¥ç¯å¢ƒå˜é‡å’Œ Procfile
- ç«¯å£é”™è¯¯ â†’ ç¡®è®¤ä½¿ç”¨ `$PORT` ç¯å¢ƒå˜é‡

### 2. æ£€æŸ¥ç¯å¢ƒå˜é‡

ç¡®è®¤æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡å·²é…ç½®ï¼š
- `UPSTASH_REDIS_REST_URL`
- `UPSTASH_REDIS_REST_TOKEN`
- `RENDER=true`

### 3. æ£€æŸ¥ä»£ç 

ç¡®è®¤ä»£ç å·²æ¨é€åˆ° GitHubï¼š
```bash
git log origin/main --oneline -5
```

---

## ğŸ“ é‡æ–°éƒ¨ç½²æ­¥éª¤ï¼ˆè¯¦ç»†ç‰ˆï¼‰

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä»£ç 

```bash
cd /Users/zwj/è‚¡ç¥¨åˆ†æ

# 1. æ£€æŸ¥å½“å‰çŠ¶æ€
git status

# 2. æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# 3. æäº¤æ›´æ”¹
git commit -m "å‡†å¤‡é‡æ–°éƒ¨ç½²åˆ° Render - $(date '+%Y-%m-%d %H:%M:%S')"

# 4. æ¨é€åˆ° GitHub
git push origin main
```

### ç¬¬äºŒæ­¥ï¼šåœ¨ Render é‡æ–°éƒ¨ç½²

1. **è®¿é—® Render Dashboard**
   - https://dashboard.render.com
   - ç™»å½•ä½ çš„è´¦å·

2. **é€‰æ‹©ä½ çš„ Web æœåŠ¡**
   - æ‰¾åˆ°æœåŠ¡ `daniugu`ï¼ˆæˆ–ä½ çš„æœåŠ¡åï¼‰
   - ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µ

3. **æ‰‹åŠ¨è§¦å‘éƒ¨ç½²**
   - ç‚¹å‡» **"Manual Deploy"** â†’ **"Deploy latest commit"**
   - æˆ–ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²ï¼ˆå¦‚æœå·²å¯ç”¨ Auto-Deployï¼‰

4. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—**
   - åœ¨ **"Logs"** æ ‡ç­¾æŸ¥çœ‹éƒ¨ç½²è¿‡ç¨‹
   - ç¡®è®¤åº”ç”¨æ­£å¸¸å¯åŠ¨
   - æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰

### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯éƒ¨ç½²

1. **æµ‹è¯• Render ç›´æ¥åœ°å€**
   - è®¿é—® `https://ä½ çš„æœåŠ¡å.onrender.com`
   - ç¡®è®¤å¯ä»¥æ­£å¸¸è®¿é—®

2. **æµ‹è¯•è‡ªå®šä¹‰åŸŸå**
   - è®¿é—® `https://www.daniugu.online`
   - è®¿é—® `https://daniugu.online`
   - ç¡®è®¤å¯ä»¥æ­£å¸¸è®¿é—®

3. **æµ‹è¯•åŠŸèƒ½**
   - ä½¿ç”¨é‚€è¯·ç æ³¨å†Œè´¦å·
   - ç™»å½•ç³»ç»Ÿ
   - æµ‹è¯•æ‰«æåŠŸèƒ½

---

## ğŸ” éƒ¨ç½²åéªŒè¯

### Render éªŒè¯

1. **æœåŠ¡çŠ¶æ€**
   - [ ] çŠ¶æ€ä¸º **"Live"**ï¼ˆè¿è¡Œä¸­ï¼‰
   - [ ] æ—¥å¿—ä¸­æ²¡æœ‰é”™è¯¯

2. **ç¯å¢ƒå˜é‡**
   - [ ] æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡å·²é…ç½®
   - [ ] Redis è¿æ¥æ­£å¸¸ï¼ˆæŸ¥çœ‹æ—¥å¿—ç¡®è®¤ï¼‰

3. **åŠŸèƒ½æµ‹è¯•**
   - [ ] å¯ä»¥è®¿é—®é¦–é¡µ
   - [ ] å¯ä»¥æ³¨å†Œ/ç™»å½•
   - [ ] æ‰«æåŠŸèƒ½æ­£å¸¸ï¼ˆæ— è¶…æ—¶ï¼‰

### Cloudflare éªŒè¯

1. **DNS è®°å½•**
   - [ ] DNS è®°å½•æ­£ç¡®
   - [ ] Proxy çŠ¶æ€ä¸º ğŸŸ  **Proxied**

2. **SSL/TLS**
   - [ ] SSL è¯ä¹¦æœ‰æ•ˆ
   - [ ] HTTPS æ­£å¸¸å·¥ä½œ

3. **CDN åŠ é€Ÿ**
   - [ ] è®¿é—®é€Ÿåº¦æ­£å¸¸
   - [ ] CDN å·²å¯ç”¨ï¼ˆæŸ¥çœ‹å“åº”å¤´ï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: Render éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥**ï¼š
1. æŸ¥çœ‹ Render Dashboard â†’ Logs
2. æ£€æŸ¥ `requirements.txt` æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®

**è§£å†³**ï¼š
- ä¿®å¤é”™è¯¯åé‡æ–°éƒ¨ç½²
- æˆ–è”ç³»æˆ‘æŸ¥çœ‹å…·ä½“é”™è¯¯

### é—®é¢˜ 2: åº”ç”¨å¯åŠ¨å¤±è´¥

**æ£€æŸ¥**ï¼š
1. ç¡®è®¤ `Procfile` æ­£ç¡®
2. ç¡®è®¤ç¯å¢ƒå˜é‡å·²é…ç½®
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

**è§£å†³**ï¼š
- æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
- ç¡®è®¤ Redis è¿æ¥æ­£å¸¸
- é‡æ–°éƒ¨ç½²

### é—®é¢˜ 3: åŸŸåæ— æ³•è®¿é—®

**æ£€æŸ¥**ï¼š
1. DNS è®°å½•æ˜¯å¦æ­£ç¡®
2. Proxy çŠ¶æ€æ˜¯å¦ä¸º ğŸŸ  **Proxied**
3. SSL/TLS æ¨¡å¼æ˜¯å¦ä¸º **"Full"**

**è§£å†³**ï¼š
- ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆ5-30 åˆ†é’Ÿï¼‰
- ç¡®è®¤ Cloudflare é…ç½®æ­£ç¡®
- æ£€æŸ¥ Render æœåŠ¡çŠ¶æ€

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### Render ç›‘æ§

- **æ—¥å¿—**: Dashboard â†’ Logsï¼ˆå®æ—¶æŸ¥çœ‹ï¼‰
- **æŒ‡æ ‡**: Dashboard â†’ Metricsï¼ˆCPUã€å†…å­˜ä½¿ç”¨ï¼‰
- **éƒ¨ç½²å†å²**: Dashboard â†’ Deploymentsï¼ˆæŸ¥çœ‹éƒ¨ç½²è®°å½•ï¼‰

### Cloudflare ç›‘æ§

- **åˆ†æ**: Dashboard â†’ Analyticsï¼ˆè®¿é—®ç»Ÿè®¡ï¼‰
- **æ—¥å¿—**: Dashboard â†’ Logsï¼ˆä»˜è´¹ç‰ˆï¼‰
- **æ€§èƒ½**: Dashboard â†’ Speedï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰

---

## âœ… å®Œæˆï¼

é‡æ–°éƒ¨ç½²å®Œæˆåï¼Œä½ çš„ç³»ç»Ÿåº”è¯¥ï¼š

- âœ… ä½¿ç”¨æœ€æ–°ä»£ç 
- âœ… é€šè¿‡ `https://www.daniugu.online` è®¿é—®
- âœ… ä½¿ç”¨ Cloudflare CDN åŠ é€Ÿ
- âœ… è‡ªåŠ¨ HTTPS åŠ å¯†
- âœ… æ— æ‰§è¡Œæ—¶é—´é™åˆ¶
- âœ… æ•°æ®æŒä¹…åŒ–ï¼ˆRedisï¼‰

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ Render Dashboard â†’ Logs è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚

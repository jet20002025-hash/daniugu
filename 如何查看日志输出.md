# 🔍 如何查看浏览器日志输出

## 📋 打开开发者工具

### 方法一：使用快捷键（最快）

1. **Windows/Linux**：
   - 按 `F12` 键
   - 或按 `Ctrl + Shift + I` (Chrome/Edge)
   - 或按 `Ctrl + Shift + K` (Firefox)

2. **Mac**：
   - 按 `F12` 键（如果设置了）
   - 或按 `Cmd + Option + I` (Chrome/Edge)
   - 或按 `Cmd + Option + K` (Firefox)

3. **其他方法**：
   - 右键点击页面 → 选择"检查"或"审查元素"（Inspect）
   - 浏览器菜单 → 更多工具 → 开发者工具

## 📊 查看控制台日志

### 1. 找到 Console 标签

打开开发者工具后，点击顶部的 **Console**（控制台）标签。

### 2. 查看日志输出

在 Console 中，你会看到以下类型的日志：

#### ✅ 正常信息（黑色/灰色）
```
[loadStocks] 开始获取股票列表... (尝试 1/4)
[loadStocks] 获取结果: Object
模型检查结果: Object
```

#### 🔍 详细信息（新增）
现在会显示更详细的模型检查信息：
```javascript
模型检查详情: {
    success: true/false,
    hasCommonFeatures: true/false,
    commonFeaturesLength: 33,  // 特征数量
    commonFeaturesKeys: ["MA10值", "MA20值", "MA20斜率", "MA40值", "MA5值"]  // 前5个特征名
}
hasFeatures: true/false
```

#### ⚠️ 警告信息（黄色）
```
模型不存在，需要训练
```

#### ❌ 错误信息（红色）
```
❌ 错误信息...
```

### 3. 过滤日志

在 Console 顶部，可以使用过滤器：
- **All levels**（所有级别）
- **Errors**（只显示错误）
- **Warnings**（只显示警告）
- **Info**（只显示信息）
- **Verbose**（详细日志）

也可以使用搜索框搜索特定内容，例如：
- 搜索 `模型检查` 查看模型相关的日志
- 搜索 `[get_trained_features]` 查看后端 API 日志

### 4. 清除日志

- 点击 Console 左上角的 🚫 图标（清除控制台）
- 或按 `Ctrl + L` (Windows/Linux) 或 `Cmd + K` (Mac)

## 📡 查看网络请求日志

### 1. 切换到 Network 标签

在开发者工具顶部，点击 **Network**（网络）标签。

### 2. 刷新页面

按 `F5` 或 `Ctrl + R` (Windows/Linux) 或 `Cmd + R` (Mac) 刷新页面。

### 3. 查看 API 请求

在 Network 列表中，找到以下请求：
- `/api/get_trained_features` - 获取模型特征
- `/api/get_stocks` - 获取股票列表
- 等等...

### 4. 查看请求详情

点击请求名称，可以查看：
- **Headers**（请求头）：请求的详细信息
- **Preview**（预览）：返回的 JSON 数据（格式化后）
- **Response**（响应）：原始的返回数据

**重点查看** `/api/get_trained_features` 的 **Response**：
```json
{
    "success": true,
    "common_features": {
        "MA10值": {...},
        "MA20值": {...},
        ...
    },
    "match_score_ready": false,
    "max_match_score": 0.0
}
```

检查 `common_features` 字段是否存在且不为空。

## 🔍 查看后端服务器日志（Vercel）

### 1. 访问 Vercel Dashboard

1. 打开 https://vercel.com/dashboard
2. 登录你的账号
3. 找到并点击项目 `daniugu`

### 2. 查看部署日志

1. 点击顶部的 **Deployments**（部署）标签
2. 找到最新的部署记录（通常在最上面）
3. 点击部署记录

### 3. 查看 Function Logs

1. 在部署详情页面，点击 **Function Logs**（函数日志）标签
2. 查看所有日志输出

### 4. 查找关键日志

在日志中搜索以下关键词：
- `模型加载` - 查看模型是否加载成功
- `[get_trained_features]` - 查看 API 返回的详细信息
- `✅ 模型加载成功` - 确认模型已加载
- `⚠️ 未找到已保存的模型` - 如果模型未加载

**示例日志**：
```
Vercel 环境：禁用自动加载和训练以避免超时
尝试加载已保存的模型...
✅ 模型加载成功
   - 买点特征数: 33
   - 卖点特征数: 30
✅ 分析器初始化完成
[get_trained_features] trained 是否为 None: False
[get_trained_features] 返回 common_features 数量: 33
```

## 📸 截图说明

如果需要帮助，可以截图以下内容：

1. **浏览器 Console 日志**：
   - 特别是 `模型检查详情` 的输出
   - `hasFeatures` 的值

2. **Network 请求详情**：
   - `/api/get_trained_features` 的 Response

3. **Vercel Function Logs**：
   - 包含 `模型加载` 或 `[get_trained_features]` 的日志

## 🛠️ 快速检查步骤

### 步骤 1：打开开发者工具
- 按 `F12` 键

### 步骤 2：查看 Console
- 点击 **Console** 标签
- 查找 `模型检查详情` 的日志

### 步骤 3：刷新页面
- 按 `F5` 刷新页面
- 查看新的日志输出

### 步骤 4：检查 Network
- 点击 **Network** 标签
- 找到 `/api/get_trained_features` 请求
- 查看 Response 中的 `common_features` 字段

### 步骤 5：检查 Vercel Logs（如果前端显示模型不存在）
- 访问 Vercel Dashboard
- 查看 Function Logs
- 查找模型加载相关的日志

## 💡 提示

1. **保持 Console 打开**：在调试时，保持开发者工具的 Console 标签打开，这样可以看到实时日志。

2. **清空日志后刷新**：在查看新日志前，可以清空控制台，然后刷新页面，这样日志更清晰。

3. **使用过滤器**：如果日志太多，可以使用 Console 的过滤器功能，只显示包含 `模型` 或 `feature` 的日志。

4. **检查日志级别**：确保 Console 中显示所有级别的日志（Errors、Warnings、Info、Verbose）。

---

**总结**：按 `F12` 打开开发者工具，然后在 **Console** 标签中查看日志输出即可！




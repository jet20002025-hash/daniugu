# ðŸ”§ Vercel éƒ¨ç½²å¡ä½è§£å†³æ–¹æ¡ˆ

## ðŸ” é—®é¢˜è¯Šæ–­

éƒ¨ç½²ä¸€ç›´è¿›è¡Œä½†æ—¥å¿—æ‰“ä¸å¼€ï¼Œå¯èƒ½çš„åŽŸå› ï¼š

1. **ä¾èµ–å®‰è£…æ—¶é—´è¿‡é•¿**
   - `akshare` åŒ…å¾ˆå¤§ï¼Œå®‰è£…å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ
   - `pandas` å’Œ `numpy` ä¹Ÿéœ€è¦è¾ƒé•¿æ—¶é—´

2. **æž„å»ºè¶…æ—¶**
   - Vercel å…è´¹ç‰ˆæž„å»ºæ—¶é—´é™åˆ¶è¾ƒçŸ­
   - å¤§åž‹ä¾èµ–å¯èƒ½å¯¼è‡´è¶…æ—¶

3. **åˆå§‹åŒ–é˜»å¡ž**
   - `BullStockAnalyzer` åˆå§‹åŒ–å¯èƒ½å¾ˆæ…¢
   - è‡ªåŠ¨è®­ç»ƒåŠŸèƒ½å¯èƒ½é˜»å¡ž

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä¼˜åŒ–ä¾èµ–ï¼ˆæŽ¨èï¼‰

åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ `requirements.txt`ï¼š

```txt
Flask>=2.3.0
pandas>=2.0.0
numpy>=1.24.0
akshare
openpyxl>=3.1.0
Werkzeug>=2.3.0
```

ç§»é™¤ `gunicorn`ï¼ˆVercel ä¸éœ€è¦ï¼‰ã€‚

### æ–¹æ¡ˆäºŒï¼šå»¶è¿ŸåŠ è½½ä¾èµ–

ä¿®æ”¹ä»£ç ï¼Œè®© `akshare` ç­‰å¤§åž‹ä¾èµ–å»¶è¿ŸåŠ è½½ï¼š

```python
# ä¸åœ¨é¡¶å±‚å¯¼å…¥ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯¼å…¥
def get_stock_data():
    import akshare as ak  # å»¶è¿Ÿå¯¼å…¥
    # ...
```

### æ–¹æ¡ˆä¸‰ï¼šç®€åŒ–åˆå§‹åŒ–

ç¡®ä¿ Vercel çŽ¯å¢ƒä¸æ‰§è¡Œè€—æ—¶æ“ä½œï¼š

```python
# åœ¨ bull_stock_web.py ä¸­
is_vercel = os.environ.get('VERCEL') == '1'
if is_vercel:
    # ç¦ç”¨æ‰€æœ‰è‡ªåŠ¨åˆå§‹åŒ–
    analyzer = None  # å»¶è¿Ÿåˆ°çœŸæ­£éœ€è¦æ—¶å†åˆå§‹åŒ–
```

## ðŸš€ å¿«é€Ÿä¿®å¤æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ›´æ–° requirements.txt

ç§»é™¤ `gunicorn`ï¼ˆVercel ä¸éœ€è¦ï¼‰ï¼š

```txt
Flask>=2.3.0,<3.0.0
pandas>=2.0.0,<3.0.0
numpy>=1.24.0,<2.0.0
akshare>=1.11.0
openpyxl>=3.1.0,<4.0.0
Werkzeug>=2.3.0,<3.0.0
```

### æ­¥éª¤ 2ï¼šå–æ¶ˆå½“å‰éƒ¨ç½²

1. åœ¨ Vercel Dashboard ä¸­
2. æ‰¾åˆ°æ­£åœ¨éƒ¨ç½²çš„ç‰ˆæœ¬
3. ç‚¹å‡» "Cancel" å–æ¶ˆ

### æ­¥éª¤ 3ï¼šé‡æ–°éƒ¨ç½²

1. æäº¤æ›´æ–°çš„ `requirements.txt`
2. è§¦å‘æ–°çš„éƒ¨ç½²
3. ç­‰å¾…æž„å»ºå®Œæˆ

## ðŸ“Š æŸ¥çœ‹æž„å»ºè¿›åº¦

### æ–¹æ³•ä¸€ï¼šVercel Dashboard

1. è¿›å…¥é¡¹ç›® â†’ **Deployments**
2. ç‚¹å‡»æœ€æ–°çš„éƒ¨ç½²
3. æŸ¥çœ‹ **"Build Logs"**ï¼ˆå¯èƒ½éœ€è¦ç­‰å¾…å‡ ç§’æ‰èƒ½åŠ è½½ï¼‰

### æ–¹æ³•äºŒï¼šä½¿ç”¨ Vercel CLI

```bash
# å®‰è£… CLI
npm i -g vercel

# ç™»å½•
vercel login

# æŸ¥çœ‹å®žæ—¶æ—¥å¿—
vercel logs [é¡¹ç›®å] --follow
```

## â±ï¸ é¢„æœŸæž„å»ºæ—¶é—´

- **å°åž‹ä¾èµ–**ï¼š30ç§’ - 2åˆ†é’Ÿ
- **akshare ç­‰å¤§åž‹ä¾èµ–**ï¼š2-5åˆ†é’Ÿ
- **å¦‚æžœè¶…è¿‡ 10 åˆ†é’Ÿ**ï¼šå¯èƒ½å¡ä½äº†ï¼Œéœ€è¦å–æ¶ˆé‡è¯•

## ðŸ”„ å¦‚æžœæž„å»ºä¸€ç›´å¡ä½

### 1. å–æ¶ˆå½“å‰éƒ¨ç½²

åœ¨ Vercel Dashboard ä¸­å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„éƒ¨ç½²ã€‚

### 2. åˆ›å»ºæœ€å°åŒ–ç‰ˆæœ¬æµ‹è¯•

åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ç‰ˆæœ¬å…ˆæµ‹è¯•éƒ¨ç½²æ˜¯å¦æ­£å¸¸ï¼š

```python
# api/index.py (æµ‹è¯•ç‰ˆ)
from flask import Flask, jsonify

app = Flask(__name__)

@app.route('/')
def index():
    return jsonify({'status': 'ok', 'message': 'éƒ¨ç½²æˆåŠŸ'})

@app.route('/api/health')
def health():
    return jsonify({'status': 'ok'})
```

### 3. é€æ­¥æ·»åŠ åŠŸèƒ½

ç¡®è®¤åŸºç¡€éƒ¨ç½²æˆåŠŸåŽï¼Œå†é€æ­¥æ·»åŠ ï¼š
1. å…ˆæ·»åŠ  Flask åŸºç¡€åŠŸèƒ½
2. å†æ·»åŠ ä¾èµ–ï¼ˆpandas, numpyï¼‰
3. æœ€åŽæ·»åŠ  akshare

## ðŸ’¡ ä¼˜åŒ–å»ºè®®

1. **ä½¿ç”¨ä¾èµ–ç¼“å­˜**ï¼šVercel ä¼šè‡ªåŠ¨ç¼“å­˜ä¾èµ–
2. **åˆ†æ‰¹éƒ¨ç½²**ï¼šå…ˆéƒ¨ç½²åŸºç¡€åŠŸèƒ½ï¼Œå†æ·»åŠ å¤æ‚åŠŸèƒ½
3. **ç›‘æŽ§æž„å»ºæ—¶é—´**ï¼šå¦‚æžœç»å¸¸è¶…æ—¶ï¼Œè€ƒè™‘ä¼˜åŒ–ä¾èµ–

---

**å»ºè®®å…ˆå–æ¶ˆå½“å‰éƒ¨ç½²ï¼Œæ›´æ–° requirements.txtï¼ˆç§»é™¤ gunicornï¼‰ï¼Œç„¶åŽé‡æ–°éƒ¨ç½²ï¼**


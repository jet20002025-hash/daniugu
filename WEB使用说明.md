# Web版使用说明

## 启动Web应用

```bash
python3 app.py
```

或者使用后台运行：

```bash
nohup python3 app.py > web.log 2>&1 &
```

## 访问地址

启动后，在浏览器中访问：

```
http://localhost:5000
```

如果需要在其他设备访问，使用：

```
http://你的IP地址:5000
```

## 功能说明

### 1. 条件设置
- **分析股票数量限制**：可以输入数字限制分析数量（用于测试），留空表示分析全部A股（约5000只）
- **排除ST股票**：默认勾选，排除ST股票

### 2. 实时进度显示
- **进度条**：显示当前分析进度百分比
- **已分析数量**：显示已分析的股票数量
- **已用时间**：显示已经使用的时间
- **预计剩余时间**：根据当前速度估算的剩余时间
- **找到的股票数**：实时显示符合条件的股票数量
- **当前分析股票**：显示正在分析的股票代码和名称

### 3. 实时股票发现
当发现符合条件的股票时，会立即在页面上显示，包括：
- 股票代码
- 股票名称
- 当前价格

### 4. 结果展示
分析完成后，会显示：
- 分析总结（总数量、找到数量、总耗时）
- 详细结果表格（包含所有符合条件的股票信息）

## 操作步骤

1. **打开浏览器**，访问 `http://localhost:5000`
2. **设置条件**：
   - 可选择限制分析数量（测试用）
   - 确认是否排除ST股票
3. **点击"开始分析"**按钮
4. **实时查看进度**：
   - 观察进度条和统计信息
   - 查看实时发现的股票
5. **查看结果**：
   - 分析完成后自动显示结果表格
   - 可以查看所有符合条件的股票详情

## 注意事项

1. **首次运行**：首次分析全部股票需要约1小时，建议先用小数量测试
2. **网络连接**：确保网络连接稳定，数据获取需要访问akshare
3. **浏览器兼容性**：建议使用Chrome、Firefox或Edge等现代浏览器
4. **停止分析**：可以随时点击"停止分析"按钮中断分析

## 技术特性

- **实时通信**：使用WebSocket实现实时进度推送
- **响应式设计**：界面美观，支持不同屏幕尺寸
- **异步处理**：分析在后台线程进行，不阻塞Web界面
- **错误处理**：自动处理网络错误和数据异常

## 故障排除

### 无法访问页面
- 检查是否已启动应用：`ps aux | grep "python3 app.py"`
- 检查端口是否被占用：`lsof -i :5000`
- 查看日志文件：`tail -f web.log`

### 分析进度不更新
- 检查浏览器控制台是否有错误
- 确认WebSocket连接正常（页面右上角显示"已连接"）
- 刷新页面重新连接

### 找不到股票
- 选股条件非常严格，可能需要调整条件
- 可以先用小数量测试，确认程序正常运行












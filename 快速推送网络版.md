# 快速推送网络版到GitHub

## 问题

错误：`merge: web-only - not something we can merge`

**原因**：`web-only` 分支不存在，需要先创建或使用其他方法。

## 解决方案

### 方法1：直接合并 local-dev-stock-search 到 main（推荐）

由于代码已经通过 `isLocalEnvironment()` 函数区分本地和网络环境，**网络版会自动隐藏本地版本功能**，所以可以直接合并：

```bash
cd /Users/zwj/股票分析

# 1. 切换到 main 分支
git checkout main

# 2. 拉取最新更改
git pull origin main

# 3. 合并 local-dev-stock-search 到 main
git merge local-dev-stock-search --no-edit

# 4. 推送到GitHub
git push origin main
```

### 方法2：使用推送脚本

```bash
cd /Users/zwj/股票分析
bash 推送网络版到GitHub.sh
```

### 方法3：手动移除本地版本代码后推送

```bash
cd /Users/zwj/股票分析

# 1. 切换到 local-dev-stock-search 分支
git checkout local-dev-stock-search

# 2. 移除本地版本代码
python3 移除本地版本代码.py

# 3. 提交更改
git add templates/bull_stock_web.html
git commit -m "移除本地版本代码，仅保留网络版功能"

# 4. 切换到 main 分支
git checkout main

# 5. 合并
git merge local-dev-stock-search --no-edit

# 6. 推送
git push origin main
```

## 重要说明

**即使不移除本地版本代码，网络版也不会显示本地版本功能**，因为：

1. `isLocalEnvironment()` 函数会检测域名
2. 网络环境（非localhost）会自动隐藏 `localVersionButtons`
3. 只显示 `webVersionButtons`（根据用户等级）

所以，**方法1（直接合并）是最简单的**，代码已经通过环境检测自动区分了。

## 验证

推送后，访问网络版网站：
- 免费用户：只看到"查看扫描结果"按钮
- VIP用户：只看到"扫描全市场（VIP每日一次）"按钮
- 不会看到本地版本的功能按钮



